<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>è¡†é™¢é¸2026 æ•™è‚²ç”¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
<style>
:root{
  --bg:#020617;--card:#1e293b;--acc:#facc15;
  --p1:#22c55e;--p2:#3b82f6
}
body{margin:0;font-family:sans-serif;background:var(--bg);color:#f8fafc}
.screen{display:none;padding:20px}
.screen.active{display:block}

/* è­°å¸­ãƒ¡ãƒ¼ã‚¿ãƒ¼ */
.meter{height:36px;background:#334155;border-radius:18px;overflow:hidden;
display:flex;position:relative;border:2px solid #fff}
.m1{background:var(--p1)}
.m2{background:var(--p2)}
.mid{position:absolute;left:50%;width:4px;height:100%;background:#fff}

/* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
.grid{display:grid;grid-template-columns:1fr 320px;gap:20px}

/* åœ°å›³ */
.map{background:#000;padding:15px;border-radius:15px}
.region{margin-bottom:15px}
.r-title{color:var(--acc);font-size:.85rem;border-bottom:1px solid #334155}
.prefs{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.pref{padding:6px 10px;border-radius:6px;background:#334155;font-size:.75rem;
cursor:pointer}
.pref.p1{background:var(--p1);color:#000;font-weight:bold}
.pref.p2{background:var(--p2);font-weight:bold}

/* å³ */
.btn{width:100%;padding:10px;margin:4px 0;background:#1e293b;
border:1px solid #475569;border-radius:8px;color:#fff;text-align:left}
.btn:hover{border-color:var(--acc)}
.log{height:120px;overflow:auto;background:#000;padding:8px;font-size:.8rem}
.turn{padding:10px;text-align:center;font-weight:bold;border-radius:10px}
</style>
</head>
<body>

<div id="setup" class="screen active">
  <div style="max-width:480px;margin:80px auto;background:var(--card);padding:30px;border-radius:20px;text-align:center">
    <h1 style="color:var(--acc)">è¡†é™¢é¸2026</h1>
    <input id="p1" value="ä¸å…š" style="width:80%;padding:10px;margin:8px">
    <input id="p2" value="é‡å…š" style="width:80%;padding:10px;margin:8px">
    <button onclick="start()" style="width:80%;padding:14px;background:var(--p1);border:none;border-radius:10px;font-weight:bold">
      ã‚²ãƒ¼ãƒ é–‹å§‹
    </button>
  </div>
</div>

<div id="game" class="screen">
  <div class="meter">
    <div id="bar1" class="m1" style="width:0%"></div>
    <div id="bar2" class="m2" style="width:0%"></div>
    <div class="mid"></div>
  </div>

  <div class="grid">
    <div class="map" id="map"></div>

    <div>
      <div id="turn" class="turn"></div>
      <button class="btn" onclick="act('speech')">ğŸ¤ è¡—é ­æ¼”èª¬</button>
      <button class="btn" onclick="act('sns')">ğŸ“± SNSæˆ¦ç•¥</button>
      <button class="btn" onclick="act('debate')">ğŸ“º å…¨å›½è¨è«–</button>
      <button class="btn" onclick="act('base')">ğŸ  åœ°ç›¤å›ºã‚</button>
      <button class="btn" onclick="act('youth')">ğŸ§‘â€ğŸ“ è‹¥è€…æ”¿ç­–</button>
      <button class="btn" onclick="act('scandal')">ğŸ”¥ ã‚¹ã‚­ãƒ£ãƒ³ãƒ€ãƒ«</button>
      <button class="btn" onclick="act('crisis')">ğŸ›¡ å±æ©Ÿå¯¾å¿œ</button>
      <div id="log" class="log"></div>
    </div>
  </div>
</div>

<script>
const MAP={
"åŒ—æµ·é“ãƒ»æ±åŒ—":["åŒ—æµ·é“","é’æ£®","å²©æ‰‹","å®®åŸ","ç§‹ç”°","å±±å½¢","ç¦å³¶"],
"é–¢æ±":["èŒ¨åŸ","æ ƒæœ¨","ç¾¤é¦¬","åŸ¼ç‰","åƒè‘‰","æ±äº¬","ç¥å¥ˆå·"],
"ä¸­éƒ¨":["æ–°æ½Ÿ","å¯Œå±±","çŸ³å·","ç¦äº•","å±±æ¢¨","é•·é‡","å²é˜œ","é™å²¡","æ„›çŸ¥"],
"è¿‘ç•¿":["ä¸‰é‡","æ»‹è³€","äº¬éƒ½","å¤§é˜ª","å…µåº«","å¥ˆè‰¯","å’Œæ­Œå±±"],
"ä¸­å›½ãƒ»å››å›½":["é³¥å–","å³¶æ ¹","å²¡å±±","åºƒå³¶","å±±å£","å¾³å³¶","é¦™å·","æ„›åª›","é«˜çŸ¥"],
"ä¹å·ãƒ»æ²–ç¸„":["ç¦å²¡","ä½è³€","é•·å´","ç†Šæœ¬","å¤§åˆ†","å®®å´","é¹¿å…å³¶","æ²–ç¸„"]
};
const SEATS=Object.fromEntries(Object.values(MAP).flat().map(p=>[p,8]));
let st={},turn=1,p1,p2,h1=0,h2=0,guard={};

function start(){
 p1=p1.value||"ä¸å…š";p2=p2.value||"é‡å…š";
 setup.classList.remove("active");game.classList.add("active");
 for(const [r,ps] of Object.entries(MAP)){
  const d=document.createElement("div");d.className="region";
  d.innerHTML=`<div class="r-title">${r}</div><div class="prefs" id="${r}"></div>`;
  map.appendChild(d);
  ps.forEach(p=>{
    st[p]=0;guard[p]=0;
    const s=document.createElement("div");
    s.className="pref";s.id=p;s.textContent=p;
    document.getElementById(r).appendChild(s);
  });
 }
 upd();
}

function act(t){
 const me=turn%2?1:2,op=me===1?2:1;
 if(t==="speech"){
  const n=Object.keys(st).find(p=>st[p]===0);
  if(n)st[n]=me;
 }
 if(t==="sns"){
  ["æ±äº¬","å¤§é˜ª","æ„›çŸ¥"].forEach(c=>{if(st[c]===op)st[c]=me});
 }
 if(t==="debate"){ me===1?h2=Math.max(0,h2-10):h1=Math.max(0,h1-10); }
 if(t==="base"){
  Object.keys(st).forEach(p=>{if(st[p]===me)guard[p]=2});
 }
 if(t==="youth"){ me===1?h1+=12:h2+=12; }
 if(t==="scandal"){
  const t=Object.keys(st).find(p=>st[p]===op&&guard[p]===0);
  if(t)st[t]=0;
 }
 if(t==="crisis"){ Object.keys(guard).forEach(p=>guard[p]=0); }
 log((me===1?p1:p2)+"ãŒè¡Œå‹•");
 turn++;upd();
}

function upd(){
 let s1=0,s2=0;
 Object.keys(st).forEach(p=>{
  document.getElementById(p).className="pref "+(st[p]===1?"p1":st[p]===2?"p2":"");
  if(st[p]===1)s1+=SEATS[p];if(st[p]===2)s2+=SEATS[p];
 });
 s1+=Math.floor(h1/2);s2+=Math.floor(h2/2);
 bar1.style.width=(s1/465*100)+"%";
 bar2.style.width=(s2/465*100)+"%";
 turnBox();
}
function turnBox(){
 const t=turn%2? p1+"ã®ç•ª":p2+"ã®ç•ª";
 turnDiv.textContent=t;
 turnDiv.style.background=turn%2?"var(--p1)":"var(--p2)";
}
function log(m){logDiv.innerHTML=`<div>> ${m}</div>`+logDiv.innerHTML}
</script>
</body>
</html>
