<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>衆院選シミュレーター｜準備</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="setup">

<h1>衆院選シミュレーター2026</h1>

<div class="card">
  <label>あなたの政党名</label>
  <input id="partyName" placeholder="例：未来日本党">
</div>

<div class="card">
  <p>公約を5つ選んでください</p>
  <label><input type="checkbox" value="社会保障"> 社会保障</label><br>
  <label><input type="checkbox" value="経済成長"> 経済成長</label><br>
  <label><input type="checkbox" value="教育"> 教育</label><br>
  <label><input type="checkbox" value="防衛"> 防衛</label><br>
  <label><input type="checkbox" value="エネルギー"> エネルギー</label><br>
  <label><input type="checkbox" value="農業"> 農業</label><br>
  <label><input type="checkbox" value="政治とカネ"> 政治とカネ</label><br>
  <label><input type="checkbox" value="外国人政策"> 外国人政策</label>
</div>

<div class="card">
  <p>モード選択</p>
  <label><input type="radio" name="mode" value="normal" checked> 通常</label><br>
  <label><input type="radio" name="mode" value="hard"> 難しい</label>
</div>

<button onclick="start()">ゲーム開始</button>

<script>
function start(){
  const name = document.getElementById("partyName").value || "あなた党";
  const policies = [...document.querySelectorAll("input[type=checkbox]:checked")];
  if(policies.length !== 5){
    alert("公約は5つ選んでください");
    return;
  }
  const mode = document.querySelector("input[name=mode]:checked").value;

  localStorage.setItem("partyName", name);
  localStorage.setItem("policies", JSON.stringify(policies.map(p=>p.value)));
  localStorage.setItem("mode", mode);

  location.href = "game.html"; // ★ここが超重要
}
</script>

</body>
</html>
